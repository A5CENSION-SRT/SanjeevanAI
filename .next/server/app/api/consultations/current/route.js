"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/consultations/current/route";
exports.ids = ["app/api/consultations/current/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fconsultations%2Fcurrent%2Froute&page=%2Fapi%2Fconsultations%2Fcurrent%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fconsultations%2Fcurrent%2Froute.ts&appDir=D%3A%5CHackathons%5C100x%5CSanjeevanAI%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CHackathons%5C100x%5CSanjeevanAI&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fconsultations%2Fcurrent%2Froute&page=%2Fapi%2Fconsultations%2Fcurrent%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fconsultations%2Fcurrent%2Froute.ts&appDir=D%3A%5CHackathons%5C100x%5CSanjeevanAI%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CHackathons%5C100x%5CSanjeevanAI&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Hackathons_100x_SanjeevanAI_src_app_api_consultations_current_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/consultations/current/route.ts */ \"(rsc)/./src/app/api/consultations/current/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/consultations/current/route\",\n        pathname: \"/api/consultations/current\",\n        filename: \"route\",\n        bundlePath: \"app/api/consultations/current/route\"\n    },\n    resolvedPagePath: \"D:\\\\Hackathons\\\\100x\\\\SanjeevanAI\\\\src\\\\app\\\\api\\\\consultations\\\\current\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Hackathons_100x_SanjeevanAI_src_app_api_consultations_current_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/consultations/current/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjb25zdWx0YXRpb25zJTJGY3VycmVudCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGY29uc3VsdGF0aW9ucyUyRmN1cnJlbnQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZjb25zdWx0YXRpb25zJTJGY3VycmVudCUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDSGFja2F0aG9ucyU1QzEwMHglNUNTYW5qZWV2YW5BSSU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RCUzQSU1Q0hhY2thdGhvbnMlNUMxMDB4JTVDU2FuamVldmFuQUkmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2tDO0FBQy9HO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG9jdG9yLXBvcnRhbC8/YWE2YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJEOlxcXFxIYWNrYXRob25zXFxcXDEwMHhcXFxcU2FuamVldmFuQUlcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcY29uc3VsdGF0aW9uc1xcXFxjdXJyZW50XFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jb25zdWx0YXRpb25zL2N1cnJlbnQvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jb25zdWx0YXRpb25zL2N1cnJlbnRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2NvbnN1bHRhdGlvbnMvY3VycmVudC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkQ6XFxcXEhhY2thdGhvbnNcXFxcMTAweFxcXFxTYW5qZWV2YW5BSVxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxjb25zdWx0YXRpb25zXFxcXGN1cnJlbnRcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2NvbnN1bHRhdGlvbnMvY3VycmVudC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fconsultations%2Fcurrent%2Froute&page=%2Fapi%2Fconsultations%2Fcurrent%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fconsultations%2Fcurrent%2Froute.ts&appDir=D%3A%5CHackathons%5C100x%5CSanjeevanAI%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CHackathons%5C100x%5CSanjeevanAI&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/consultations/current/route.ts":
/*!****************************************************!*\
  !*** ./src/app/api/consultations/current/route.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Use direct mongoose connection instead of importing from gitignored directory\nasync function connectToDatabase() {\n    if ((mongoose__WEBPACK_IMPORTED_MODULE_1___default().connection).readyState >= 1) {\n        console.log(\"Already connected to MongoDB\");\n        return;\n    }\n    // Connect to the specific database\n    console.log(\"Connecting to MongoDB with URI from env variables...\");\n    const uri = process.env.MONGODB_URI || \"\";\n    // Ensure we're connecting to the doctor_portal database\n    // If the URI doesn't specify a database, append it\n    let connectionUri = uri;\n    if (!uri.includes(\"doctor_portal\")) {\n        // If URI ends with '/', just append the database name\n        if (uri.endsWith(\"/\")) {\n            connectionUri = `${uri}doctor_portal`;\n        } else {\n            // Otherwise append /doctor_portal\n            connectionUri = `${uri}/doctor_portal`;\n        }\n    }\n    console.log(\"Using database: doctor_portal\");\n    return mongoose__WEBPACK_IMPORTED_MODULE_1___default().connect(connectionUri);\n}\n// Function to get current patients with active cases\nasync function getCurrentPatients() {\n    await connectToDatabase();\n    try {\n        // Import models directly using the correct path\n        const PatientModel = (mongoose__WEBPACK_IMPORTED_MODULE_1___default().models).Patient || mongoose__WEBPACK_IMPORTED_MODULE_1___default().model(\"Patient\", (__webpack_require__(/*! @/models/Patient */ \"(rsc)/./src/models/Patient.js\").schema));\n        const CaseModel = (mongoose__WEBPACK_IMPORTED_MODULE_1___default().models).Case || mongoose__WEBPACK_IMPORTED_MODULE_1___default().model(\"Case\", (__webpack_require__(/*! @/models/Case */ \"(rsc)/./src/models/Case.js\").schema));\n        console.log(\"Models loaded successfully\");\n        console.log(\"Database connection:\", (mongoose__WEBPACK_IMPORTED_MODULE_1___default().connection).name);\n        // Check if db is available before trying to list collections\n        if ((mongoose__WEBPACK_IMPORTED_MODULE_1___default().connection).db) {\n            const collections = await mongoose__WEBPACK_IMPORTED_MODULE_1___default().connection.db.listCollections().toArray();\n            console.log(\"Collections:\", collections.map((c)=>c.name));\n        } else {\n            console.log(\"Database connection not fully established yet\");\n        }\n        // Get all patients first\n        const allPatients = await PatientModel.find({}).lean();\n        console.log(\"All patients found:\", allPatients.length);\n        if (allPatients.length > 0) {\n            console.log(\"Sample patient:\", JSON.stringify(allPatients[0], null, 2));\n        }\n        // Get all cases regardless of doctor approval status\n        // Only filter by completed status to show active cases\n        const activeCases = await CaseModel.find({\n            completed: false\n        }).populate(\"patientId\").lean();\n        console.log(\"Active cases found:\", activeCases.length);\n        if (activeCases.length > 0) {\n            console.log(\"Sample case:\", JSON.stringify(activeCases[0], null, 2));\n        }\n        // Create a map to track which patients already have cases\n        const patientIdsToCases = new Map();\n        // Process all active cases\n        activeCases.forEach((c)=>{\n            if (c.patientId && typeof c.patientId === \"object\") {\n                const patientId = c.patientId._id.toString();\n                patientIdsToCases.set(patientId, c._id);\n            }\n        });\n        // Create a combined list of all patients with case information\n        const patientsWithCaseInfo = [];\n        // First add patients that have active cases\n        for (const c of activeCases){\n            if (c.patientId && typeof c.patientId === \"object\") {\n                const patientId = c.patientId._id.toString();\n                // Only add each patient once\n                if (!patientsWithCaseInfo.some((p)=>p._id.toString() === patientId)) {\n                    // Keep nested objects intact\n                    let aiSummary = c.aiAnalysis || c.patientHistory || \"No summary available\";\n                    // Process research field if it exists\n                    let research = c.research || null;\n                    if (research && typeof research === \"object\") {\n                        research = \"Research data available\";\n                    }\n                    // Process FAQ field if it exists\n                    let faq = c.faq || null;\n                    if (faq && typeof faq === \"object\") {\n                        faq = \"FAQ data available\";\n                    }\n                    // Process prescription if it exists\n                    let prescription = \"\";\n                    if (c.prescription) {\n                        if (typeof c.prescription === \"string\") {\n                            prescription = c.prescription;\n                        } else if (typeof c.prescription === \"object\" && c.prescription.content) {\n                            prescription = c.prescription.content;\n                        } else {\n                            prescription = \"Prescription available\";\n                        }\n                    }\n                    patientsWithCaseInfo.push({\n                        ...c.patientId,\n                        caseId: c._id,\n                        aiSummary: aiSummary,\n                        research: research,\n                        faq: faq,\n                        prescription: prescription,\n                        transcript: c.transcript || \"\",\n                        summary: c.patientHistory || \"\",\n                        completed: c.completed || false,\n                        approved: c.approved || false,\n                        lastUpdated: c.updatedAt || c.createdAt\n                    });\n                }\n            }\n        }\n        console.log(\"Patients with active cases:\", patientsWithCaseInfo.length);\n        // If there are patients but no active cases, return all patients\n        if (patientsWithCaseInfo.length === 0 && allPatients.length > 0) {\n            return allPatients.map((patient)=>{\n                // Keep medicalHistory in its original format\n                const medicalHistory = patient.medicalHistory || \"Patient requires consultation\";\n                return {\n                    ...patient,\n                    aiSummary: medicalHistory,\n                    lastUpdated: patient.createdAt || new Date()\n                };\n            });\n        }\n        return patientsWithCaseInfo;\n    } catch (error) {\n        console.error(\"Error in getCurrentPatients:\", error);\n        return [];\n    }\n}\nasync function GET() {\n    try {\n        console.log(\"Fetching current patients...\");\n        const currentPatients = await getCurrentPatients();\n        console.log(`Found ${currentPatients.length} current patients`);\n        // Process the current patients data to ensure compatibility with UI components\n        const processedPatients = currentPatients.map((patient)=>{\n            // Keep the MongoDB _id for reference\n            const originalId = patient._id ? patient._id.toString() : null;\n            // Ensure caseId is a string if it exists\n            const caseId = patient.caseId ? typeof patient.caseId === \"object\" && patient.caseId._id ? patient.caseId._id.toString() : patient.caseId.toString() : null;\n            // Ensure aiSummary is always a string\n            let aiSummary = patient.aiSummary || patient.medicalHistory || \"No summary available\";\n            if (typeof aiSummary !== \"string\") {\n                aiSummary = JSON.stringify(aiSummary);\n            }\n            // Ensure medicalHistory is always a string\n            let medicalHistory = patient.medicalHistory || \"\";\n            if (typeof medicalHistory !== \"string\") {\n                medicalHistory = JSON.stringify(medicalHistory);\n            }\n            // Map the database schema fields to the UI expected fields\n            return {\n                _id: originalId,\n                // Map patient fields from the database schema to UI expected fields\n                patientName: patient.name || \"Unknown\",\n                patientAge: typeof patient.age === \"number\" ? patient.age : 0,\n                patientGender: patient.gender || \"Unknown\",\n                // Include case information if available\n                caseId: caseId,\n                // Ensure other required fields are present\n                contact: patient.contact || \"\",\n                email: patient.email || \"\",\n                address: patient.address || \"\",\n                // AI analysis and medical history\n                aiSummary: aiSummary,\n                medicalHistory: medicalHistory,\n                // Make sure created date and last updated are always available\n                lastUpdated: patient.updatedAt || patient.createdAt || new Date(),\n                consultationDate: patient.createdAt || new Date(),\n                // Default status if not provided\n                status: \"active\"\n            };\n        });\n        console.log(\"Processed patients:\", processedPatients.length);\n        if (processedPatients.length > 0) {\n            console.log(\"Sample processed patient:\", JSON.stringify(processedPatients[0], null, 2));\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            status: \"success\",\n            data: processedPatients,\n            count: processedPatients.length,\n            timestamp: new Date().toISOString()\n        });\n    } catch (error) {\n        console.error(\"Error fetching current patients:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            status: \"error\",\n            message: \"Failed to fetch current patients\",\n            error: error instanceof Error ? error.message : \"Unknown error\",\n            timestamp: new Date().toISOString()\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9jb25zdWx0YXRpb25zL2N1cnJlbnQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEyQztBQUNYO0FBRWhDLGdGQUFnRjtBQUNoRixlQUFlRTtJQUNiLElBQUlELDREQUFtQixDQUFDRyxVQUFVLElBQUksR0FBRztRQUN2Q0MsUUFBUUMsR0FBRyxDQUFDO1FBQ1o7SUFDRjtJQUVBLG1DQUFtQztJQUNuQ0QsUUFBUUMsR0FBRyxDQUFDO0lBQ1osTUFBTUMsTUFBTUMsUUFBUUMsR0FBRyxDQUFDQyxXQUFXLElBQUk7SUFFdkMsd0RBQXdEO0lBQ3hELG1EQUFtRDtJQUNuRCxJQUFJQyxnQkFBZ0JKO0lBQ3BCLElBQUksQ0FBQ0EsSUFBSUssUUFBUSxDQUFDLGtCQUFrQjtRQUNsQyxzREFBc0Q7UUFDdEQsSUFBSUwsSUFBSU0sUUFBUSxDQUFDLE1BQU07WUFDckJGLGdCQUFnQixDQUFDLEVBQUVKLElBQUksYUFBYSxDQUFDO1FBQ3ZDLE9BQU87WUFDTCxrQ0FBa0M7WUFDbENJLGdCQUFnQixDQUFDLEVBQUVKLElBQUksY0FBYyxDQUFDO1FBQ3hDO0lBQ0Y7SUFFQUYsUUFBUUMsR0FBRyxDQUFDO0lBQ1osT0FBT0wsdURBQWdCLENBQUNVO0FBQzFCO0FBRUEscURBQXFEO0FBQ3JELGVBQWVJO0lBQ2IsTUFBTWI7SUFFTixJQUFJO1FBQ0YsZ0RBQWdEO1FBQ2hELE1BQU1jLGVBQWVmLHdEQUFlLENBQUNpQixPQUFPLElBQUlqQixxREFBYyxDQUFDLFdBQVdtQixxRkFBa0M7UUFDNUcsTUFBTUUsWUFBWXJCLHdEQUFlLENBQUNzQixJQUFJLElBQUl0QixxREFBYyxDQUFDLFFBQVFtQiwrRUFBK0I7UUFFaEdmLFFBQVFDLEdBQUcsQ0FBQztRQUNaRCxRQUFRQyxHQUFHLENBQUMsd0JBQXdCTCw0REFBbUIsQ0FBQ3VCLElBQUk7UUFFNUQsNkRBQTZEO1FBQzdELElBQUl2Qiw0REFBbUIsQ0FBQ3dCLEVBQUUsRUFBRTtZQUMxQixN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QUFJLElBQUlHO2dCQUUzQyxpQ0FBaUM7Z0JBQ2pDZSxRQUFRO1lBQ1o7UUFDSjtRQUVBN0UsUUFBUUMsR0FBRyxDQUFDLHVCQUF1QmlFLGtCQUFrQnJDLE1BQU07UUFDM0QsSUFBSXFDLGtCQUFrQnJDLE1BQU0sR0FBRyxHQUFHO1lBQzlCN0IsUUFBUUMsR0FBRyxDQUFDLDZCQUE2QjZCLEtBQUtDLFNBQVMsQ0FBQ21DLGlCQUFpQixDQUFDLEVBQUUsRUFBRSxNQUFNO1FBQ3hGO1FBRUEsT0FBT3ZFLHFEQUFZQSxDQUFDbUYsSUFBSSxDQUFDO1lBQ3JCRCxRQUFRO1lBQ1JFLE1BQU1iO1lBQ05jLE9BQU9kLGtCQUFrQnJDLE1BQU07WUFDL0JvRCxXQUFXLElBQUluQixPQUFPb0IsV0FBVztRQUNyQztJQUNKLEVBQUUsT0FBT25CLE9BQU87UUFDWi9ELFFBQVErRCxLQUFLLENBQUMsb0NBQW9DQTtRQUNsRCxPQUFPcEUscURBQVlBLENBQUNtRixJQUFJLENBQ3BCO1lBQ0lELFFBQVE7WUFDUk0sU0FBUztZQUNUcEIsT0FBT0EsaUJBQWlCcUIsUUFBUXJCLE1BQU1vQixPQUFPLEdBQUc7WUFDaERGLFdBQVcsSUFBSW5CLE9BQU9vQixXQUFXO1FBQ3JDLEdBQ0E7WUFBRUwsUUFBUTtRQUFJO0lBRXRCO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb2N0b3ItcG9ydGFsLy4vc3JjL2FwcC9hcGkvY29uc3VsdGF0aW9ucy9jdXJyZW50L3JvdXRlLnRzPzZhNWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxuLy8gVXNlIGRpcmVjdCBtb25nb29zZSBjb25uZWN0aW9uIGluc3RlYWQgb2YgaW1wb3J0aW5nIGZyb20gZ2l0aWdub3JlZCBkaXJlY3RvcnlcbmFzeW5jIGZ1bmN0aW9uIGNvbm5lY3RUb0RhdGFiYXNlKCkge1xuICBpZiAobW9uZ29vc2UuY29ubmVjdGlvbi5yZWFkeVN0YXRlID49IDEpIHtcbiAgICBjb25zb2xlLmxvZygnQWxyZWFkeSBjb25uZWN0ZWQgdG8gTW9uZ29EQicpO1xuICAgIHJldHVybjtcbiAgfVxuICBcbiAgLy8gQ29ubmVjdCB0byB0aGUgc3BlY2lmaWMgZGF0YWJhc2VcbiAgY29uc29sZS5sb2coJ0Nvbm5lY3RpbmcgdG8gTW9uZ29EQiB3aXRoIFVSSSBmcm9tIGVudiB2YXJpYWJsZXMuLi4nKTtcbiAgY29uc3QgdXJpID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkgfHwgJyc7XG4gIFxuICAvLyBFbnN1cmUgd2UncmUgY29ubmVjdGluZyB0byB0aGUgZG9jdG9yX3BvcnRhbCBkYXRhYmFzZVxuICAvLyBJZiB0aGUgVVJJIGRvZXNuJ3Qgc3BlY2lmeSBhIGRhdGFiYXNlLCBhcHBlbmQgaXRcbiAgbGV0IGNvbm5lY3Rpb25VcmkgPSB1cmk7XG4gIGlmICghdXJpLmluY2x1ZGVzKCdkb2N0b3JfcG9ydGFsJykpIHtcbiAgICAvLyBJZiBVUkkgZW5kcyB3aXRoICcvJywganVzdCBhcHBlbmQgdGhlIGRhdGFiYXNlIG5hbWVcbiAgICBpZiAodXJpLmVuZHNXaXRoKCcvJykpIHtcbiAgICAgIGNvbm5lY3Rpb25VcmkgPSBgJHt1cml9ZG9jdG9yX3BvcnRhbGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE90aGVyd2lzZSBhcHBlbmQgL2RvY3Rvcl9wb3J0YWxcbiAgICAgIGNvbm5lY3Rpb25VcmkgPSBgJHt1cml9L2RvY3Rvcl9wb3J0YWxgO1xuICAgIH1cbiAgfVxuICBcbiAgY29uc29sZS5sb2coJ1VzaW5nIGRhdGFiYXNlOiBkb2N0b3JfcG9ydGFsJyk7XG4gIHJldHVybiBtb25nb29zZS5jb25uZWN0KGNvbm5lY3Rpb25VcmkpO1xufVxuXG4vLyBGdW5jdGlvbiB0byBnZXQgY3VycmVudCBwYXRpZW50cyB3aXRoIGFjdGl2ZSBjYXNlc1xuYXN5bmMgZnVuY3Rpb24gZ2V0Q3VycmVudFBhdGllbnRzKCkge1xuICBhd2FpdCBjb25uZWN0VG9EYXRhYmFzZSgpO1xuICBcbiAgdHJ5IHtcbiAgICAvLyBJbXBvcnQgbW9kZWxzIGRpcmVjdGx5IHVzaW5nIHRoZSBjb3JyZWN0IHBhdGhcbiAgICBjb25zdCBQYXRpZW50TW9kZWwgPSBtb25nb29zZS5tb2RlbHMuUGF0aWVudCB8fCBtb25nb29zZS5tb2RlbCgnUGF0aWVudCcsIHJlcXVpcmUoJ0AvbW9kZWxzL1BhdGllbnQnKS5zY2hlbWEpO1xuICAgIGNvbnN0IENhc2VNb2RlbCA9IG1vbmdvb3NlLm1vZGVscy5DYXNlIHx8IG1vbmdvb3NlLm1vZGVsKCdDYXNlJywgcmVxdWlyZSgnQC9tb2RlbHMvQ2FzZScpLnNjaGVtYSk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ01vZGVscyBsb2FkZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGNvbm5lY3Rpb246JywgbW9uZ29vc2UuY29ubmVjdGlvbi5uYW1lKTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiBkYiBpcyBhdmFpbGFibGUgYmVmb3JlIHRyeWluZyB0byBsaXN0IGNvbGxlY3Rpb25zXG4gICAgaWYgKG1vbmdvb3NlLmNvbm5lY3Rpb24uZGIpIHtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb25zID0gYXdhaXQgbW9uZ29vc2UuY29ubmVjdGlvbi5kYi5saXN0Q29sbGVjdGlvbnMoKS50b0FycmF5KCk7XG4gICAgICBjb25zb2xlLmxvZygnQ29sbGVjdGlvbnM6JywgY29sbGVjdGlvbnMubWFwKGMgPT4gYy5uYW1lKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBjb25uZWN0aW9uIG5vdCBmdWxseSBlc3RhYmxpc2hlZCB5ZXQnKTtcbiAgICB9XG4gICAgXG4gICAgLy8gR2V0IGFsbCBwYXRpZW50cyBmaXJzdFxuICAgIGNvbnN0IGFsbFBhdGllbnRzID0gYXdhaXQgUGF0aWVudE1vZGVsLmZpbmQoe30pLmxlYW4oKTtcbiAgICBjb25zb2xlLmxvZygnQWxsIHBhdGllbnRzIGZvdW5kOicsIGFsbFBhdGllbnRzLmxlbmd0aCk7XG4gICAgaWYgKGFsbFBhdGllbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdTYW1wbGUgcGF0aWVudDonLCBKU09OLnN0cmluZ2lmeShhbGxQYXRpZW50c1swXSwgbnVsbCwgMikpO1xuICAgIH1cbiAgICBcbiAgICAvLyBHZXQgYWxsIGNhc2VzIHJlZ2FyZGxlc3Mgb2YgZG9jdG9yIGFwcHJvdmFsIHN0YXR1c1xuICAgIC8vIE9ubHkgZmlsdGVyIGJ5IGNvbXBsZXRlZCBzdGF0dXMgdG8gc2hvdyBhY3RpdmUgY2FzZXNcbiAgICBjb25zdCBhY3RpdmVDYXNlcyA9IGF3YWl0IENhc2VNb2RlbC5maW5kKHsgY29tcGxldGVkOiBmYWxzZSB9KVxuICAgICAgLnBvcHVsYXRlKCdwYXRpZW50SWQnKVxuICAgICAgLmxlYW4oKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnQWN0aXZlIGNhc2VzIGZvdW5kOicsIGFjdGl2ZUNhc2VzLmxlbmd0aCk7XG4gICAgaWYgKGFjdGl2ZUNhc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdTYW1wbGUgY2FzZTonLCBKU09OLnN0cmluZ2lmeShhY3RpdmVDYXNlc1swXSwgbnVsbCwgMikpO1xuICAgIH1cbiAgICBcbiAgICAvLyBDcmVhdGUgYSBtYXAgdG8gdHJhY2sgd2hpY2ggcGF0aWVudHMgYWxyZWFkeSBoYXZlIGNhc2VzXG4gICAgY29uc3QgcGF0aWVudElkc1RvQ2FzZXMgPSBuZXcgTWFwKCk7XG4gICAgXG4gICAgLy8gUHJvY2VzcyBhbGwgYWN0aXZlIGNhc2VzXG4gICAgYWN0aXZlQ2FzZXMuZm9yRWFjaChjID0+IHtcbiAgICAgIGlmIChjLnBhdGllbnRJZCAmJiB0eXBlb2YgYy5wYXRpZW50SWQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbnN0IHBhdGllbnRJZCA9IGMucGF0aWVudElkLl9pZC50b1N0cmluZygpO1xuICAgICAgICBwYXRpZW50SWRzVG9DYXNlcy5zZXQocGF0aWVudElkLCBjLl9pZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIGEgY29tYmluZWQgbGlzdCBvZiBhbGwgcGF0aWVudHMgd2l0aCBjYXNlIGluZm9ybWF0aW9uXG4gICAgY29uc3QgcGF0aWVudHNXaXRoQ2FzZUluZm86IGFueVtdID0gW107XG4gICAgXG4gICAgLy8gRmlyc3QgYWRkIHBhdGllbnRzIHRoYXQgaGF2ZSBhY3RpdmUgY2FzZXNcbiAgICBmb3IgKGNvbnN0IGMgb2YgYWN0aXZlQ2FzZXMpIHtcbiAgICAgIGlmIChjLnBhdGllbnRJZCAmJiB0eXBlb2YgYy5wYXRpZW50SWQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbnN0IHBhdGllbnRJZCA9IGMucGF0aWVudElkLl9pZC50b1N0cmluZygpO1xuICAgICAgICBcbiAgICAgICAgLy8gT25seSBhZGQgZWFjaCBwYXRpZW50IG9uY2VcbiAgICAgICAgaWYgKCFwYXRpZW50c1dpdGhDYXNlSW5mby5zb21lKHAgPT4gcC5faWQudG9TdHJpbmcoKSA9PT0gcGF0aWVudElkKSkge1xuICAgICAgICAgIC8vIEtlZXAgbmVzdGVkIG9iamVjdHMgaW50YWN0XG4gICAgICAgICAgbGV0IGFpU3VtbWFyeSA9IGMuYWlBbmFseXNpcyB8fCBjLnBhdGllbnRIaXN0b3J5IHx8ICdObyBzdW1tYXJ5IGF2YWlsYWJsZSc7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUHJvY2VzcyByZXNlYXJjaCBmaWVsZCBpZiBpdCBleGlzdHNcbiAgICAgICAgICBsZXQgcmVzZWFyY2ggPSBjLnJlc2VhcmNoIHx8IG51bGw7XG4gICAgICAgICAgaWYgKHJlc2VhcmNoICYmIHR5cGVvZiByZXNlYXJjaCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJlc2VhcmNoID0gJ1Jlc2VhcmNoIGRhdGEgYXZhaWxhYmxlJztcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUHJvY2VzcyBGQVEgZmllbGQgaWYgaXQgZXhpc3RzXG4gICAgICAgICAgbGV0IGZhcSA9IGMuZmFxIHx8IG51bGw7XG4gICAgICAgICAgaWYgKGZhcSAmJiB0eXBlb2YgZmFxID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZmFxID0gJ0ZBUSBkYXRhIGF2YWlsYWJsZSc7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFByb2Nlc3MgcHJlc2NyaXB0aW9uIGlmIGl0IGV4aXN0c1xuICAgICAgICAgIGxldCBwcmVzY3JpcHRpb24gPSAnJztcbiAgICAgICAgICBpZiAoYy5wcmVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYy5wcmVzY3JpcHRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIHByZXNjcmlwdGlvbiA9IGMucHJlc2NyaXB0aW9uO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYy5wcmVzY3JpcHRpb24gPT09ICdvYmplY3QnICYmIGMucHJlc2NyaXB0aW9uLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgcHJlc2NyaXB0aW9uID0gYy5wcmVzY3JpcHRpb24uY29udGVudDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHByZXNjcmlwdGlvbiA9ICdQcmVzY3JpcHRpb24gYXZhaWxhYmxlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgcGF0aWVudHNXaXRoQ2FzZUluZm8ucHVzaCh7XG4gICAgICAgICAgICAuLi5jLnBhdGllbnRJZCxcbiAgICAgICAgICAgIGNhc2VJZDogYy5faWQsXG4gICAgICAgICAgICBhaVN1bW1hcnk6IGFpU3VtbWFyeSxcbiAgICAgICAgICAgIHJlc2VhcmNoOiByZXNlYXJjaCxcbiAgICAgICAgICAgIGZhcTogZmFxLFxuICAgICAgICAgICAgcHJlc2NyaXB0aW9uOiBwcmVzY3JpcHRpb24sXG4gICAgICAgICAgICB0cmFuc2NyaXB0OiBjLnRyYW5zY3JpcHQgfHwgJycsXG4gICAgICAgICAgICBzdW1tYXJ5OiBjLnBhdGllbnRIaXN0b3J5IHx8ICcnLFxuICAgICAgICAgICAgY29tcGxldGVkOiBjLmNvbXBsZXRlZCB8fCBmYWxzZSxcbiAgICAgICAgICAgIGFwcHJvdmVkOiBjLmFwcHJvdmVkIHx8IGZhbHNlLFxuICAgICAgICAgICAgbGFzdFVwZGF0ZWQ6IGMudXBkYXRlZEF0IHx8IGMuY3JlYXRlZEF0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1BhdGllbnRzIHdpdGggYWN0aXZlIGNhc2VzOicsIHBhdGllbnRzV2l0aENhc2VJbmZvLmxlbmd0aCk7XG4gICAgXG4gICAgLy8gSWYgdGhlcmUgYXJlIHBhdGllbnRzIGJ1dCBubyBhY3RpdmUgY2FzZXMsIHJldHVybiBhbGwgcGF0aWVudHNcbiAgICBpZiAocGF0aWVudHNXaXRoQ2FzZUluZm8ubGVuZ3RoID09PSAwICYmIGFsbFBhdGllbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBhbGxQYXRpZW50cy5tYXAocGF0aWVudCA9PiB7XG4gICAgICAgIC8vIEtlZXAgbWVkaWNhbEhpc3RvcnkgaW4gaXRzIG9yaWdpbmFsIGZvcm1hdFxuICAgICAgICBjb25zdCBtZWRpY2FsSGlzdG9yeSA9IHBhdGllbnQubWVkaWNhbEhpc3RvcnkgfHwgJ1BhdGllbnQgcmVxdWlyZXMgY29uc3VsdGF0aW9uJztcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucGF0aWVudCxcbiAgICAgICAgICBhaVN1bW1hcnk6IG1lZGljYWxIaXN0b3J5LCAvLyBLZWVwIG9yaWdpbmFsIGZvcm1hdFxuICAgICAgICAgIGxhc3RVcGRhdGVkOiBwYXRpZW50LmNyZWF0ZWRBdCB8fCBuZXcgRGF0ZSgpXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHBhdGllbnRzV2l0aENhc2VJbmZvO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGdldEN1cnJlbnRQYXRpZW50czonLCBlcnJvcik7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIGN1cnJlbnQgcGF0aWVudHMuLi4nKTtcbiAgICAgICAgY29uc3QgY3VycmVudFBhdGllbnRzID0gYXdhaXQgZ2V0Q3VycmVudFBhdGllbnRzKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCAke2N1cnJlbnRQYXRpZW50cy5sZW5ndGh9IGN1cnJlbnQgcGF0aWVudHNgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFByb2Nlc3MgdGhlIGN1cnJlbnQgcGF0aWVudHMgZGF0YSB0byBlbnN1cmUgY29tcGF0aWJpbGl0eSB3aXRoIFVJIGNvbXBvbmVudHNcbiAgICAgICAgY29uc3QgcHJvY2Vzc2VkUGF0aWVudHMgPSBjdXJyZW50UGF0aWVudHMubWFwKChwYXRpZW50KSA9PiB7XG4gICAgICAgICAgICAvLyBLZWVwIHRoZSBNb25nb0RCIF9pZCBmb3IgcmVmZXJlbmNlXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbElkID0gcGF0aWVudC5faWQgPyBwYXRpZW50Ll9pZC50b1N0cmluZygpIDogbnVsbDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRW5zdXJlIGNhc2VJZCBpcyBhIHN0cmluZyBpZiBpdCBleGlzdHNcbiAgICAgICAgICAgIGNvbnN0IGNhc2VJZCA9IHBhdGllbnQuY2FzZUlkID8gXG4gICAgICAgICAgICAgICAgKHR5cGVvZiBwYXRpZW50LmNhc2VJZCA9PT0gJ29iamVjdCcgJiYgcGF0aWVudC5jYXNlSWQuX2lkID8gXG4gICAgICAgICAgICAgICAgICAgIHBhdGllbnQuY2FzZUlkLl9pZC50b1N0cmluZygpIDogXG4gICAgICAgICAgICAgICAgICAgIHBhdGllbnQuY2FzZUlkLnRvU3RyaW5nKCkpIDogXG4gICAgICAgICAgICAgICAgbnVsbDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRW5zdXJlIGFpU3VtbWFyeSBpcyBhbHdheXMgYSBzdHJpbmdcbiAgICAgICAgICAgIGxldCBhaVN1bW1hcnkgPSBwYXRpZW50LmFpU3VtbWFyeSB8fCBwYXRpZW50Lm1lZGljYWxIaXN0b3J5IHx8ICdObyBzdW1tYXJ5IGF2YWlsYWJsZSc7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFpU3VtbWFyeSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBhaVN1bW1hcnkgPSBKU09OLnN0cmluZ2lmeShhaVN1bW1hcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBFbnN1cmUgbWVkaWNhbEhpc3RvcnkgaXMgYWx3YXlzIGEgc3RyaW5nXG4gICAgICAgICAgICBsZXQgbWVkaWNhbEhpc3RvcnkgPSBwYXRpZW50Lm1lZGljYWxIaXN0b3J5IHx8ICcnO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZWRpY2FsSGlzdG9yeSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBtZWRpY2FsSGlzdG9yeSA9IEpTT04uc3RyaW5naWZ5KG1lZGljYWxIaXN0b3J5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gTWFwIHRoZSBkYXRhYmFzZSBzY2hlbWEgZmllbGRzIHRvIHRoZSBVSSBleHBlY3RlZCBmaWVsZHNcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgX2lkOiBvcmlnaW5hbElkLCAvLyBFbnN1cmUgX2lkIGlzIGFsd2F5cyBhIHN0cmluZ1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIE1hcCBwYXRpZW50IGZpZWxkcyBmcm9tIHRoZSBkYXRhYmFzZSBzY2hlbWEgdG8gVUkgZXhwZWN0ZWQgZmllbGRzXG4gICAgICAgICAgICAgICAgcGF0aWVudE5hbWU6IHBhdGllbnQubmFtZSB8fCAnVW5rbm93bicsXG4gICAgICAgICAgICAgICAgcGF0aWVudEFnZTogdHlwZW9mIHBhdGllbnQuYWdlID09PSAnbnVtYmVyJyA/IHBhdGllbnQuYWdlIDogMCxcbiAgICAgICAgICAgICAgICBwYXRpZW50R2VuZGVyOiBwYXRpZW50LmdlbmRlciB8fCAnVW5rbm93bicsXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gSW5jbHVkZSBjYXNlIGluZm9ybWF0aW9uIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgIGNhc2VJZDogY2FzZUlkLFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBvdGhlciByZXF1aXJlZCBmaWVsZHMgYXJlIHByZXNlbnRcbiAgICAgICAgICAgICAgICBjb250YWN0OiBwYXRpZW50LmNvbnRhY3QgfHwgJycsXG4gICAgICAgICAgICAgICAgZW1haWw6IHBhdGllbnQuZW1haWwgfHwgJycsXG4gICAgICAgICAgICAgICAgYWRkcmVzczogcGF0aWVudC5hZGRyZXNzIHx8ICcnLFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEFJIGFuYWx5c2lzIGFuZCBtZWRpY2FsIGhpc3RvcnlcbiAgICAgICAgICAgICAgICBhaVN1bW1hcnk6IGFpU3VtbWFyeSxcbiAgICAgICAgICAgICAgICBtZWRpY2FsSGlzdG9yeTogbWVkaWNhbEhpc3RvcnksXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIGNyZWF0ZWQgZGF0ZSBhbmQgbGFzdCB1cGRhdGVkIGFyZSBhbHdheXMgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgbGFzdFVwZGF0ZWQ6IHBhdGllbnQudXBkYXRlZEF0IHx8IHBhdGllbnQuY3JlYXRlZEF0IHx8IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgY29uc3VsdGF0aW9uRGF0ZTogcGF0aWVudC5jcmVhdGVkQXQgfHwgbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IHN0YXR1cyBpZiBub3QgcHJvdmlkZWRcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdQcm9jZXNzZWQgcGF0aWVudHM6JywgcHJvY2Vzc2VkUGF0aWVudHMubGVuZ3RoKTtcbiAgICAgICAgaWYgKHByb2Nlc3NlZFBhdGllbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTYW1wbGUgcHJvY2Vzc2VkIHBhdGllbnQ6JywgSlNPTi5zdHJpbmdpZnkocHJvY2Vzc2VkUGF0aWVudHNbMF0sIG51bGwsIDIpKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgZGF0YTogcHJvY2Vzc2VkUGF0aWVudHMsXG4gICAgICAgICAgICBjb3VudDogcHJvY2Vzc2VkUGF0aWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgY3VycmVudCBwYXRpZW50czonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBmZXRjaCBjdXJyZW50IHBhdGllbnRzJyxcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICAgKTtcbiAgICB9XG59ICJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJtb25nb29zZSIsImNvbm5lY3RUb0RhdGFiYXNlIiwiY29ubmVjdGlvbiIsInJlYWR5U3RhdGUiLCJjb25zb2xlIiwibG9nIiwidXJpIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJJIiwiY29ubmVjdGlvblVyaSIsImluY2x1ZGVzIiwiZW5kc1dpdGgiLCJjb25uZWN0IiwiZ2V0Q3VycmVudFBhdGllbnRzIiwiUGF0aWVudE1vZGVsIiwibW9kZWxzIiwiUGF0aWVudCIsIm1vZGVsIiwicmVxdWlyZSIsInNjaGVtYSIsIkNhc2VNb2RlbCIsIkNhc2UiLCJuYW1lIiwiZGIiLCJjb2xsZWN0aW9ucyIsImxpc3RDb2xsZWN0aW9ucyIsInRvQXJyYXkiLCJtYXAiLCJjIiwiYWxsUGF0aWVudHMiLCJmaW5kIiwibGVhbiIsImxlbmd0aCIsIkpTT04iLCJzdHJpbmdpZnkiLCJhY3RpdmVDYXNlcyIsImNvbXBsZXRlZCIsInBvcHVsYXRlIiwicGF0aWVudElkc1RvQ2FzZXMiLCJNYXAiLCJmb3JFYWNoIiwicGF0aWVudElkIiwiX2lkIiwidG9TdHJpbmciLCJzZXQiLCJwYXRpZW50c1dpdGhDYXNlSW5mbyIsInNvbWUiLCJwIiwiYWlTdW1tYXJ5IiwiYWlBbmFseXNpcyIsInBhdGllbnRIaXN0b3J5IiwicmVzZWFyY2giLCJmYXEiLCJwcmVzY3JpcHRpb24iLCJjb250ZW50IiwicHVzaCIsImNhc2VJZCIsInRyYW5zY3JpcHQiLCJzdW1tYXJ5IiwiYXBwcm92ZWQiLCJsYXN0VXBkYXRlZCIsInVwZGF0ZWRBdCIsImNyZWF0ZWRBdCIsInBhdGllbnQiLCJtZWRpY2FsSGlzdG9yeSIsIkRhdGUiLCJlcnJvciIsIkdFVCIsImN1cnJlbnRQYXRpZW50cyIsInByb2Nlc3NlZFBhdGllbnRzIiwib3JpZ2luYWxJZCIsInBhdGllbnROYW1lIiwicGF0aWVudEFnZSIsImFnZSIsInBhdGllbnRHZW5kZXIiLCJnZW5kZXIiLCJjb250YWN0IiwiZW1haWwiLCJhZGRyZXNzIiwiY29uc3VsdGF0aW9uRGF0ZSIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwiY291bnQiLCJ0aW1lc3RhbXAiLCJ0b0lTT1N0cmluZyIsIm1lc3NhZ2UiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/consultations/current/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/Case.js":
/*!****************************!*\
  !*** ./src/models/Case.js ***!
  \****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\nconst CaseSchema = new mongoose.Schema({\n    patientId: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: \"Patient\",\n        required: [\n            true,\n            \"Patient ID is required\"\n        ]\n    },\n    transcript: {\n        type: String,\n        required: [\n            true,\n            \"AI-Patient conversation transcript is required\"\n        ]\n    },\n    patientHistory: {\n        type: String,\n        default: \"\"\n    },\n    patientInfo: {\n        type: Object,\n        default: {}\n    },\n    aiAnalysis: {\n        type: String,\n        default: \"\"\n    },\n    prescription: {\n        content: {\n            type: String,\n            default: \"\"\n        },\n        doctorId: {\n            type: mongoose.Schema.Types.ObjectId,\n            ref: \"Doctor\",\n            default: null\n        },\n        createdAt: {\n            type: Date,\n            default: null\n        }\n    },\n    // Doctor information\n    doctorId: {\n        type: String,\n        default: null\n    },\n    doctorName: {\n        type: String,\n        default: \"\"\n    },\n    doctorComments: {\n        type: String,\n        default: \"\"\n    },\n    // Status fields\n    approved: {\n        type: Boolean,\n        default: false\n    },\n    completed: {\n        type: Boolean,\n        default: false\n    },\n    completedAt: {\n        type: Date,\n        default: null\n    },\n    createdAt: {\n        type: Date,\n        default: Date.now\n    },\n    updatedAt: {\n        type: Date,\n        default: Date.now\n    }\n});\nmodule.exports = mongoose.models.Case || mongoose.model(\"Case\", CaseSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL0Nhc2UuanMiLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU1BLFdBQVdDLG1CQUFPQSxDQUFDO0FBRXpCLE1BQU1DLGFBQWEsSUFBSUYsU0FBU0csTUFBTSxDQUFDO0lBQ25DQyxXQUFXO1FBQ1BDLE1BQU1MLFNBQVNHLE1BQU0sQ0FBQ0csS0FBSyxDQUFDQyxRQUFRO1FBQ3BDQyxLQUFLO1FBQ0xDLFVBQVU7WUFBQztZQUFNO1NBQXlCO0lBQzlDO0lBQ0FDLFlBQVk7UUFDUkwsTUFBTU07UUFDTkYsVUFBVTtZQUFDO1lBQU07U0FBaUQ7SUFDdEU7SUFDQUcsZ0JBQWdCO1FBQ1pQLE1BQU1NO1FBQ05FLFNBQVM7SUFDYjtJQUNBQyxhQUFhO1FBQ1RULE1BQU1VO1FBQ05GLFNBQVMsQ0FBQztJQUNkO0lBQ0FHLFlBQVk7UUFDUlgsTUFBTU07UUFDTkUsU0FBUztJQUNiO0lBQ0FJLGNBQWM7UUFDVkMsU0FBUztZQUNMYixNQUFNTTtZQUNORSxTQUFTO1FBQ2I7UUFDQU0sVUFBVTtZQUNOZCxNQUFNTCxTQUFTRyxNQUFNLENBQUNHLEtBQUssQ0FBQ0MsUUFBUTtZQUNwQ0MsS0FBSztZQUNMSyxTQUFTO1FBQ2I7UUFDQU8sV0FBVztZQUNQZixNQUFNZ0I7WUFDTlIsU0FBUztRQUNiO0lBQ0o7SUFDQSxxQkFBcUI7SUFDckJNLFVBQVU7UUFDTmQsTUFBTU07UUFDTkUsU0FBUztJQUNiO0lBQ0FTLFlBQVk7UUFDUmpCLE1BQU1NO1FBQ05FLFNBQVM7SUFDYjtJQUNBVSxnQkFBZ0I7UUFDWmxCLE1BQU1NO1FBQ05FLFNBQVM7SUFDYjtJQUNBLGdCQUFnQjtJQUNoQlcsVUFBVTtRQUNObkIsTUFBTW9CO1FBQ05aLFNBQVM7SUFDYjtJQUNBYSxXQUFXO1FBQ1ByQixNQUFNb0I7UUFDTlosU0FBUztJQUNiO0lBQ0FjLGFBQWE7UUFDVHRCLE1BQU1nQjtRQUNOUixTQUFTO0lBQ2I7SUFDQU8sV0FBVztRQUNQZixNQUFNZ0I7UUFDTlIsU0FBU1EsS0FBS08sR0FBRztJQUNyQjtJQUNBQyxXQUFXO1FBQ1B4QixNQUFNZ0I7UUFDTlIsU0FBU1EsS0FBS08sR0FBRztJQUNyQjtBQUNKO0FBRUFFLE9BQU9DLE9BQU8sR0FBRy9CLFNBQVNnQyxNQUFNLENBQUNDLElBQUksSUFBSWpDLFNBQVNrQyxLQUFLLENBQUMsUUFBUWhDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG9jdG9yLXBvcnRhbC8uL3NyYy9tb2RlbHMvQ2FzZS5qcz9jMDk1Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcblxuY29uc3QgQ2FzZVNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgIHBhdGllbnRJZDoge1xuICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgIHJlZjogJ1BhdGllbnQnLFxuICAgICAgICByZXF1aXJlZDogW3RydWUsICdQYXRpZW50IElEIGlzIHJlcXVpcmVkJ11cbiAgICB9LFxuICAgIHRyYW5zY3JpcHQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogW3RydWUsICdBSS1QYXRpZW50IGNvbnZlcnNhdGlvbiB0cmFuc2NyaXB0IGlzIHJlcXVpcmVkJ11cbiAgICB9LFxuICAgIHBhdGllbnRIaXN0b3J5OiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZGVmYXVsdDogJydcbiAgICB9LFxuICAgIHBhdGllbnRJbmZvOiB7XG4gICAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgICAgZGVmYXVsdDoge31cbiAgICB9LFxuICAgIGFpQW5hbHlzaXM6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBkZWZhdWx0OiAnJ1xuICAgIH0sXG4gICAgcHJlc2NyaXB0aW9uOiB7XG4gICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIGRlZmF1bHQ6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIGRvY3RvcklkOiB7XG4gICAgICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICAgICAgICByZWY6ICdEb2N0b3InLFxuICAgICAgICAgICAgZGVmYXVsdDogbnVsbFxuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVkQXQ6IHtcbiAgICAgICAgICAgIHR5cGU6IERhdGUsXG4gICAgICAgICAgICBkZWZhdWx0OiBudWxsXG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8vIERvY3RvciBpbmZvcm1hdGlvblxuICAgIGRvY3RvcklkOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZGVmYXVsdDogbnVsbFxuICAgIH0sXG4gICAgZG9jdG9yTmFtZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGRlZmF1bHQ6ICcnXG4gICAgfSxcbiAgICBkb2N0b3JDb21tZW50czoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGRlZmF1bHQ6ICcnXG4gICAgfSxcbiAgICAvLyBTdGF0dXMgZmllbGRzXG4gICAgYXBwcm92ZWQ6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgZGVmYXVsdDogZmFsc2VcbiAgICB9LFxuICAgIGNvbXBsZXRlZDoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBkZWZhdWx0OiBmYWxzZVxuICAgIH0sXG4gICAgY29tcGxldGVkQXQ6IHtcbiAgICAgICAgdHlwZTogRGF0ZSxcbiAgICAgICAgZGVmYXVsdDogbnVsbFxuICAgIH0sXG4gICAgY3JlYXRlZEF0OiB7XG4gICAgICAgIHR5cGU6IERhdGUsXG4gICAgICAgIGRlZmF1bHQ6IERhdGUubm93XG4gICAgfSxcbiAgICB1cGRhdGVkQXQ6IHtcbiAgICAgICAgdHlwZTogRGF0ZSxcbiAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3dcbiAgICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBtb25nb29zZS5tb2RlbHMuQ2FzZSB8fCBtb25nb29zZS5tb2RlbCgnQ2FzZScsIENhc2VTY2hlbWEpO1xuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIkNhc2VTY2hlbWEiLCJTY2hlbWEiLCJwYXRpZW50SWQiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwidHJhbnNjcmlwdCIsIlN0cmluZyIsInBhdGllbnRIaXN0b3J5IiwiZGVmYXVsdCIsInBhdGllbnRJbmZvIiwiT2JqZWN0IiwiYWlBbmFseXNpcyIsInByZXNjcmlwdGlvbiIsImNvbnRlbnQiLCJkb2N0b3JJZCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJkb2N0b3JOYW1lIiwiZG9jdG9yQ29tbWVudHMiLCJhcHByb3ZlZCIsIkJvb2xlYW4iLCJjb21wbGV0ZWQiLCJjb21wbGV0ZWRBdCIsIm5vdyIsInVwZGF0ZWRBdCIsIm1vZHVsZSIsImV4cG9ydHMiLCJtb2RlbHMiLCJDYXNlIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Case.js\n");

/***/ }),

/***/ "(rsc)/./src/models/Patient.js":
/*!*******************************!*\
  !*** ./src/models/Patient.js ***!
  \*******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\nconst PatientSchema = new mongoose.Schema({\n    name: {\n        type: String,\n        required: [\n            true,\n            \"Please provide patient name\"\n        ],\n        trim: true\n    },\n    age: {\n        type: Number,\n        required: [\n            true,\n            \"Please provide age\"\n        ]\n    },\n    gender: {\n        type: String,\n        required: [\n            true,\n            \"Please provide gender\"\n        ],\n        enum: [\n            \"Male\",\n            \"Female\",\n            \"Other\"\n        ]\n    },\n    contact: {\n        type: String,\n        required: [\n            true,\n            \"Please provide contact number\"\n        ]\n    },\n    email: {\n        type: String,\n        match: [\n            /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/,\n            \"Please provide a valid email\"\n        ]\n    },\n    address: {\n        type: String\n    },\n    medicalHistory: {\n        type: String\n    },\n    createdAt: {\n        type: Date,\n        default: Date.now\n    }\n});\nmodule.exports = mongoose.models.Patient || mongoose.model(\"Patient\", PatientSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL1BhdGllbnQuanMiLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU1BLFdBQVdDLG1CQUFPQSxDQUFDO0FBRXpCLE1BQU1DLGdCQUFnQixJQUFJRixTQUFTRyxNQUFNLENBQUM7SUFDdENDLE1BQU07UUFDRkMsTUFBTUM7UUFDTkMsVUFBVTtZQUFDO1lBQU07U0FBOEI7UUFDL0NDLE1BQU07SUFDVjtJQUNBQyxLQUFLO1FBQ0RKLE1BQU1LO1FBQ05ILFVBQVU7WUFBQztZQUFNO1NBQXFCO0lBQzFDO0lBQ0FJLFFBQVE7UUFDSk4sTUFBTUM7UUFDTkMsVUFBVTtZQUFDO1lBQU07U0FBd0I7UUFDekNLLE1BQU07WUFBQztZQUFRO1lBQVU7U0FBUTtJQUNyQztJQUNBQyxTQUFTO1FBQ0xSLE1BQU1DO1FBQ05DLFVBQVU7WUFBQztZQUFNO1NBQWdDO0lBQ3JEO0lBQ0FPLE9BQU87UUFDSFQsTUFBTUM7UUFDTlMsT0FBTztZQUFDO1lBQStDO1NBQStCO0lBQzFGO0lBQ0FDLFNBQVM7UUFDTFgsTUFBTUM7SUFDVjtJQUNBVyxnQkFBZ0I7UUFDWlosTUFBTUM7SUFDVjtJQUNBWSxXQUFXO1FBQ1BiLE1BQU1jO1FBQ05DLFNBQVNELEtBQUtFLEdBQUc7SUFDckI7QUFDSjtBQUVBQyxPQUFPQyxPQUFPLEdBQUd2QixTQUFTd0IsTUFBTSxDQUFDQyxPQUFPLElBQUl6QixTQUFTMEIsS0FBSyxDQUFDLFdBQVd4QiIsInNvdXJjZXMiOlsid2VicGFjazovL2RvY3Rvci1wb3J0YWwvLi9zcmMvbW9kZWxzL1BhdGllbnQuanM/ODhmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XHJcblxyXG5jb25zdCBQYXRpZW50U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgICBuYW1lOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ1BsZWFzZSBwcm92aWRlIHBhdGllbnQgbmFtZSddLFxyXG4gICAgICAgIHRyaW06IHRydWVcclxuICAgIH0sXHJcbiAgICBhZ2U6IHtcclxuICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnUGxlYXNlIHByb3ZpZGUgYWdlJ11cclxuICAgIH0sXHJcbiAgICBnZW5kZXI6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnUGxlYXNlIHByb3ZpZGUgZ2VuZGVyJ10sXHJcbiAgICAgICAgZW51bTogWydNYWxlJywgJ0ZlbWFsZScsICdPdGhlciddXHJcbiAgICB9LFxyXG4gICAgY29udGFjdDoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogW3RydWUsICdQbGVhc2UgcHJvdmlkZSBjb250YWN0IG51bWJlciddXHJcbiAgICB9LFxyXG4gICAgZW1haWw6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgbWF0Y2g6IFsvXlxcdysoWy4tXT9cXHcrKSpAXFx3KyhbLi1dP1xcdyspKihcXC5cXHd7MiwzfSkrJC8sICdQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIGVtYWlsJ11cclxuICAgIH0sXHJcbiAgICBhZGRyZXNzOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nXHJcbiAgICB9LFxyXG4gICAgbWVkaWNhbEhpc3Rvcnk6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmdcclxuICAgIH0sXHJcbiAgICBjcmVhdGVkQXQ6IHtcclxuICAgICAgICB0eXBlOiBEYXRlLFxyXG4gICAgICAgIGRlZmF1bHQ6IERhdGUubm93XHJcbiAgICB9XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBtb25nb29zZS5tb2RlbHMuUGF0aWVudCB8fCBtb25nb29zZS5tb2RlbCgnUGF0aWVudCcsIFBhdGllbnRTY2hlbWEpOyJdLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJQYXRpZW50U2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInRyaW0iLCJhZ2UiLCJOdW1iZXIiLCJnZW5kZXIiLCJlbnVtIiwiY29udGFjdCIsImVtYWlsIiwibWF0Y2giLCJhZGRyZXNzIiwibWVkaWNhbEhpc3RvcnkiLCJjcmVhdGVkQXQiLCJEYXRlIiwiZGVmYXVsdCIsIm5vdyIsIm1vZHVsZSIsImV4cG9ydHMiLCJtb2RlbHMiLCJQYXRpZW50IiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Patient.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fconsultations%2Fcurrent%2Froute&page=%2Fapi%2Fconsultations%2Fcurrent%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fconsultations%2Fcurrent%2Froute.ts&appDir=D%3A%5CHackathons%5C100x%5CSanjeevanAI%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CHackathons%5C100x%5CSanjeevanAI&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();